extends ../layout

block content
  main.main-page
    h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
    p
      | –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè
    if(!hotArticles.length && !comments.length && !articles.length)
      .main-page__empty-wrapper
        p.main-page__empty-text –ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ!
    else
      section.main-page__theme-list
        h2.visually-hidden –°–ø–∏—Å–æ–∫ —Ç–µ–º
        ul.themes
          include ../partials/categories

      .main-page__section-flex
        section.main-page__hot.hot
            h2(class=(hotArticles.length ? `hot__name` : `hot__name hot__name--empty`))
              | –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
              |
              span.hot__icon.hot__icon--fire
            if(!hotArticles.length)
              p.hot__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
            else
              ul.hot__list
                each hotArticleItem in hotArticles
                  li.hot__list-item
                    a.hot__list-link(href=`/articles/${hotArticleItem.id}?previousUrl=${currentPath}`)
                      | #{hotArticleItem.title}
                      sup.hot__link-sup #{hotArticleItem.commentsQuantity}
        section.main-page__last.last
          h2.last__name
            | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
            |
            span.last__icon.last__icon--cloud
          if(!comments.length)
            p.last__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
          else
            ul.last__list
              each commentsItem in comments
                li.last__list-item
                  img.last__list-image(src=`img/${commentsItem.user.avatar}`, width='20', height='20', alt=`–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${commentsItem.user.firstName} ${commentsItem.user.lastName}`)
                  b.last__list-name #{`${commentsItem.user.firstName} ${commentsItem.user.lastName}`}
                  a.last__list-link(href=`/articles/${commentsItem.articleId}?previousUrl=${currentPath}#comment-${commentsItem.id}`) #{commentsItem.message}

      include ../partials/preview-articles

      script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.0/socket.io.js")
      script(src="js/socket.js")

